FEATURES {
    STARTADDRESS: default = $02a7;
}
SYMBOLS {
    __LOADADDR__: type = import;
}
MEMORY {
    # .PRG file header
    LOADADDR:  file = %O, start = %S - 2, size = $0002;
    # ensure that the loader code cannot over-run the BASIC vectors
    MAIN:      file = %O, start = %S,     size = $0300 - %S, define = yes;
    # place the BASIC vectors at the right place regardless of other code
    VECTORS:   file = %O, start = $0300,  size = 12;
    # the fallback BASIC bootstrap for when the program is loaded
    # into the BASIC area instead of the intended load address
    BASIC:     file = %O, start = $0801,  size = $A000 - $0801;
}
SEGMENTS {
    LOADADDR:  load = LOADADDR,              type = ro;
    BOOTSTRAP: load = MAIN,     run = BASIC, type = ro, define = yes;
    CODE:      load = MAIN,                  type = rw, define = yes;
    VECTORS:   load = VECTORS,               type = rw, define = yes;
}
