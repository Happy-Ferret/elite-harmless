# "Elite" C64 disassembly / "Elite DX", cc0 2018, see LICENSE.txt
# "Elite" is copyright / trademark David Braben & Ian Bell, All Rights Reserved
# <github.com/Kroc/EliteDX>
#===============================================================================

FEATURES {
    STARTADDRESS: default = $1D00;
}
SYMBOLS {
    __LOADADDR__:   type = import;
    _1d81:          type = import;
}
MEMORY {
    LOADADDR:   file = %O, start = %S - 2, size = $0002;
    CODE:       file = %O, start = %S,     size = $4000 - %S;
    DATA:       file = %O, start = %S,     size = $4000 - %S;

    IGNORE:     file = "", start = _1d81,  size = $4000 - _1d81;

    # we need to cross-link the high-RAM code/data from $6A00 onwards,
    # but we don't actually want to write this to any file
    HIRAM:  file = "",            start = $6A00, size = $FFFF - $6A00;
}

SEGMENTS {
    LOADADDR:       load = LOADADDR, type = ro;
    DATA_1D00:      load = CODE, optional = yes;
    LOADER_STAGE5:  load = CODE, optional = yes;
    ENCRYPTED_GMA5: load = DATA, optional = yes;

    CODE_1D00:      load = IGNORE;

    CODE_6A00:      load = HIRAM;
    DATA_6A00:      load = HIRAM;
}