# "Elite" C64 disassembly / "Elite DX", cc0 2018, see LICENSE.txt
# "Elite" is copyright / trademark David Braben & Ian Bell, All Rights Reserved
# <github.com/Kroc/EliteDX>
#===============================================================================

# this file is incomplete! this will, eventually, be a memory map of the C64
# as used by Elite during runtime, but also including the packing areas where
# data is relocated in the disk file

SYMBOLS {
    __LOADADDR__: type = import;
}

MEMORY {
    # .PRG file header
    LOADADDR:   file = %O,  start = %S - 2, size = $0002;
    # allow the definition of zero-page constants,
    # but don't actually write them to the file!
    ZP:         file = "",  start = $0002,  size = $00FE;

    # 'low RAM' is the area below the VIC-II memory bank
    LORAM:      file = %O,  start = $0400,  size = $4000 - $0400 - 1;

    VICII:      file = %O,  start = $4000,  size = $4000;

    HIRAM:      file = %O,  start = $8000,  size = $FFFF - $8000
}

SEGMENTS {
    LOADADDR:   load = LOADADDR,                type = ro;

    # what looks like some variable space is defined at $0400..$0700
    STUFF_0400: load = LORAM,                   type = rw;

    # =$4400, run as $0B00
    FONT:       load = VICII,   run = LORAM,    type = ro;

    # =$7A7A, run as $6800
    SPRITES:    load = HIRAM,   run = VICII,    type = ro;
}